<header class="harmonic-head" id="banner">
  <div class="container">
    <h1>Spectrum Video Servers</h1>
    <p class="lead">It's a simple AngularJS CRUD application</p>
    <p>
      <a href="">
        <img class="img-responsive" src="" alt="">
      </a>
    </p>
  </div>
</header>

<div class="container">
  <div class="row">
    <div class="col-sm-6 col-sm-offset-3">
      <button type="button" class="btn btn-primary btn-block" ng-click="main.handleCreate()">Create</button>
      <button type="button" class="btn btn-primary btn-block">Restart</button>
      <br/>
      <br/>
      <div class="filter-block row">
        <div class="col-xs-6">
          <label>Choose version:  <select ng-model="main.filterValue" ng-options="version for version in main.getUsedVersion()"></select></label>
        </div>
        <div class="col-xs-6">
          <label>Use for enable filter:  <input type="checkbox" ng-model="main.filerFlag"></label>
        </div>
      </div>

    </div>
  	<div class="col-sm-12 table-responsive">
	    <table class="table table-hover table-bordered">
		  <caption><h3>Spectrum Video Servers</h3></caption>
	      <tr>
	      	<th>#</th>
	      	<th>IP</th>
	      	<th>Name</th>
	      	<th>Current Version</th>
          <th>Actions</th>
	      </tr>
        <tr ng-show="main.modeStates.isCreate">
          <td></td>
          <td><input type="text" ng-model="main.newItem.ip" placeholder="xx.xx.xxx.xxx" ng-focus="main.modeStates.isCreate"></td>
          <td><input type="text" ng-model="main.newItem.name" placeholder="name" ng-required></td>
          <td><input type="text" ng-model="main.newItem.currentVersion" placeholder="xxx.xx.xx.xx"></td>
          <td>
              <button type="button" class="btn btn-primary" ng-click="main.createItem(main.newItem)">Create</button>
              <button type="button" class="btn btn-warning" ng-click="main.cancelCreating()">Cancel</button>
          </td>
        </tr>
        <tr ng-repeat="server in main.servers | versionFilter : main.filterValue : main.filerFlag ">
          <td>{{$index+1}}</td>

          <td ng-hide="main.modeStates.isEdit[$index]">{{server.ip}}</td>
          <td ng-show="main.modeStates.isEdit[$index]"><input type="text" ng-model="server.ip"></td>

          <td ng-hide="main.modeStates.isEdit[$index]">{{server.name}}</td>
          <td ng-show="main.modeStates.isEdit[$index]"><input type="text" ng-model="server.name"></td>

          <td ng-hide="main.modeStates.isEdit[$index]">{{server.currentVersion}}</td>
          <td ng-show="main.modeStates.isEdit[$index]"><input type="text" ng-model="server.currentVersion"></td>

          <td>
              <button type="button" ng-class="(main.modeStates.isEdit[$index])? 'btn btn-success' : 'btn btn-primary'" ng-click="main.handleEdit(server, $index)">{{(main.modeStates.isEdit[$index])? "Save" : "Edit"}}</button>
              <button type="button" class="btn btn-warning" ng-if="main.modeStates.isEdit[$index]" ng-click="main.reset(server, $index)">Reset</button>
              <hm-update-version ng-hide="main.modeStates.isEdit[$index]" on-update="main.updateField(server, 'currentVersion', value)" versions="main.versions"></hm-update-version>
              <button type="button" class="btn btn-danger" ng-click="main.deleteItem(server, $index)">Delete</button>
          </td>
        </tr>
	    </table>
    </div>
  </div>
</div>
